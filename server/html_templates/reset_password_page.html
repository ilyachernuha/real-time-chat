<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Password Confirmation</title>
<style>
  /* Simple CSS for styling the form */
  body { font-family: Arial, sans-serif; margin: 20px; }
  .form-group { margin-bottom: 15px; }
  label { display: block; margin-bottom: 5px; }
  input[type="password"], button { padding: 10px; width: 100%; }
  button { background-color: #4CAF50; color: white; border: none; cursor: pointer; }
  button:hover { background-color: #45a049; }
</style>
</head>
<body>

<form id="passwordForm">
  <div class="form-group">
    <label for="password1">Enter new password:</label>
    <input type="password" id="password1" required>
  </div>
  <div class="form-group">
    <label for="password2">Confirm new password:</label>
    <input type="password" id="password2" required>
  </div>
  <button type="submit">Confirm</button>
</form>

<script>
  // JavaScript for handling the form submission
  document.getElementById('passwordForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent the default form submission
    var password1 = document.getElementById('password1').value;
    var password2 = document.getElementById('password2').value;

    // Check if passwords match
    if (password1 !== password2) {
      alert('Passwords do not match. Please try again.');
      return;
    }

    // If passwords match, send request to server (example using fetch)
    fetch('{{url}}', {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({new_password: password1, application_id: "{{application_id}}"}),
    })
    .then(response => response.json())
    .then(data => {
      console.log('Success:', data);
      alert('Password updated successfully.');
    })
    .catch((error) => {
      console.error('Error:', error);
      alert('An error occurred. Please try again.');
    });
  });
</script>

</body>
</html>
